resources:
  - name: Lambda Function
    requirements:
      - 環境名とプロジェクト名を用いた命名規則に従うこと
      - Python 3.12ランタイムを使用すること
      - メモリは最小限の128MBで設定すること
      - タイムアウトは3秒で設定すること
      - ハンズオン用の簡単なレスポンスを返すコードを含めること
      - IAM Roleは既存のexperimental-handson-apiを利用。Data Sourcesで読み込むこと。
    prohibitions:
      - VPCに接続してはならない
      - 予約済み同時実行数を設定してはならない

  - name: Lambda Function URLs
    requirements:
      - Lambda関数に対してFunction URLを設定すること
      - 認証タイプはNONE（パブリックアクセス）とすること
    prohibitions:
      - 認証付きアクセス（AWS_IAM）を設定してはならない

  - name: CloudWatch Log Group
    requirements:
      - Lambda関数用のロググループを作成すること
      - ログの保持期間は7日間とすること
      - 環境名とプロジェクト名を用いた命名規則に従うこと
    prohibitions: []

variables:
  - environment: 環境名
  - project: プロジェクト名

outputs:
  - なし

notes:
  - Lambda Function URLsを使用することで、API Gatewayなしで直接HTTPSアクセスが可能
  - ハンズオン用のため、最小限のリソース設定を使用